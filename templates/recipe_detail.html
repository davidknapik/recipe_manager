{% extends 'base.html' %}

{% block content %}
    <div class="card">
        <h1>{{ recipe.name }}</h1>
        <p><strong>Yield:</strong> {{ recipe.yield }}</p>
        <a href="{{ url_for('edit_recipe', recipe_id=recipe.id) }}">Edit Recipe</a>
        
        <hr>
        <h3>Ingredients</h3>
        <ul>
            {% for ingredient in ingredients %}
            <li>{{ ingredient.amount_needed }} {{ ingredient.unit_needed }} of {{ ingredient.name }}</li>
            {% endfor %}
        </ul>
        
        <h3>Preparation Instructions</h3>
        <p style="white-space: pre-wrap;">{{ recipe.preparation_instructions }}</p>
        
        <h3>Bake/Cook Instructions</h3>
        <p style="white-space: pre-wrap;">{{ recipe.bake_instructions }}</p>

        <hr>
        <h3>Cost Analysis (based on latest purchase)</h3>
        <ul>
            {% for item in cost_info.breakdown %}
            <li>{{ item.name }}: <strong>${{ item.cost }}</strong> {% if item.note %}({{item.note}}){% endif %}</li>
            {% endfor %}
        </ul>
        <h4><strong>Total Estimated Cost: ${{ '%.2f'|format(cost_info.total) }}</strong></h4>
    </div>
{% endblock %}```
